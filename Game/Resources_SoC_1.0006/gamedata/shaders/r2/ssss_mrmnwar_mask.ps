#include "common.h"

float4 main(p_screen I) : COLOR
{
	float3 	scene 		= tex2D(s_image, I.tc0.xy).xyz;
	float 	sceneDepth 	= tex2D(s_position, I.tc0.xy).z;
	float 	RESDepth 	= saturate(sceneDepth / 100) * 1000; // normalize depth

	float4	outColor 	= float4(scene*(1 - RESDepth), RESDepth);
	return outColor;
}
