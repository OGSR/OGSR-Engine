#include "common.h"

uniform float4 ogse_c_screen; // x - fFOV, y - fAspect, z - Zf/(Zf-Zn), w - Zn*tan(fFov/2)

#define TAR float(1280.f / 800.f) // texture aspect ratio

float4 main(v2p_TL I) : SV_Target
{
    float2 tc = I.Tex0;
    float x = 1 / (ogse_c_screen.y * TAR);
    tc.x = tc.x * x + 0.5 * (1 - x);
    float4 col = s_base.Sample(smp_base, tc);
    return I.Color * col;
}
